<div class="row">

<div class="text-left col-md-2">
  <a onclick="competencias()" type="button" href="#" class="bg-primary border border-primary rounded p-1 superBoton text-left text-success">
  <i class="align-middle fas fa-arrow-left text-white" style="font-size: 24px;"></i>
    <label class="mt-2 text-white d-md-inline" style="cursor: pointer; font-size: 15px;">Atras</label>
  </a>
</div>

<h3 class="col-md-8 mt-lg-auto mt-md-3 mt-sm-4 mt-4">Tour Morelia 2020</h3>

</div>


<h6>Status: Activa</h6>
<a href="reporte.pdf" download="reporte" class="btn btn-warning">Descargar reporte</a>
<br><br>
<h4>Puntajes Globales de la Competecia</h4>
<p>Deslice para ver más o menos participantes</p>

<div class="inputDiv">
  <div class="etiqueta"></div>
  <input type="range" min="0" max="50" autocomplete="off" id="input3">
  </div>

<table>
  <thead>
    <tr>
      <th scope="col">Nombre completo</th>
      <th scope="col">Número de competidor</th>
      <th scope="col">Posición</th>
      <th scope="col">Puntaje global</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-label="Nombre">Carlos Castro Cázares</td>
      <td data-label="Núm. de competidor">842154</td>
      <td data-label="Posición">1</td>
      <td data-label="Puntaje global">42</td>
    </tr>
    <tr>
      <td scope="row" data-label="Nombre">Brandon Rodriguez Molina</td>
      <td data-label="Núm. de competidor">451789</td>
      <td data-label="Posición">2</td>
      <td data-label="Puntaje global">36</td>
    </tr>
    <tr>
      <td scope="row" data-label="Nombre">Diego Zamora Delgado</td>
      <td data-label="Núm. de competidor">7893145</td>
      <td data-label="Posición">3</td>
      <td data-label="ID">35</td>
    </tr>
  </tbody>
</table>
<h4 class="mt-5">Grafica</h4>
          <div id="contenedorGrafica-competencia">
            <canvas id="competencia-grafica-bar"></canvas>
            <script>
              var ctx = document.getElementById("competencia-grafica-bar").getContext("2d");
              var myChart = new Chart(ctx, {
                type: "bar",
                data: {
                  labels: ['Carlos Castro Cázares', 'Brandon Rodriguez Molina', 'Diego Zamora Delgado'],
                  datasets: [{
                    label: 'Rendimiento',
                    data: [42, 36, 35],
                    backgroundColor: [
                      'rgb(66, 134, 244)',
                      'rgb(100, 8, 75)',
                      'rgb(200, 134, 244)',
                      'rgb(247, 218, 19)'
                    ]
                  }]
                },
                options: {
                  scales: {
                    yAxes: [{
                        ticks: {
                          beginAtZero: true
                        }
                    }]
                  }
                }
              });
            </script>
          </div>
        </div>

<div class="w-100">
  <div class="justify-content-center mt-3 d-flex mx-auto">
    <button class="btn btn-primary btn-md" id="btn-cambiarGrafica-competencia" onclick="grafCompetencia()">
    Cambiar a Grafica de Pastel</button>
  </div>
</div>




<br>
<h4 class="mt-3">Carreras</h4>
<div class="card text-center" style="color:white;">
  <div class="card-header bg-dark">
    Carrera 1
  </div>
  <div class="card-body"  style="color:black;">
    <h6>Acueducto a Camelinas 10km</h6>
    <p class="card-text">Tipo de Carrera: Montaña</p>
    <a  style="color:white;" onclick="getCarrera();" class="btn btn-primary">Estadisticas</a>
  </div>
</div>
<div class="card text-center" style="color:white;">
  <div class="card-header bg-dark">
    Carrera 2
  </div>
  <div class="card-body"  style="color:black;">
    <h6>Tecnológico a Macroplaza 9km</h6>
    <p class="card-text">Tipo de Carrera: Velocidad</p>
    <a  style="color:white;" onclick="getCarrera();" class="btn btn-primary">Estadisticas</a>
  </div>
</div>
<div class="card text-center" style="color:white;">
  <div class="card-header bg-dark">
    Carrera 3
  </div>
  <div class="card-body"  style="color:black;">
    <h6>Xangari a La Huerta 17km</h6>
    <p class="card-text">Tipo de Carrera: Terraceria</p>
    <a  style="color:white;" onclick="getCarrera();" class="btn btn-primary">Estadisticas</a>
  </div>
</div><br>
<a type="button" class="btn btn-danger" data-toggle="modal" style="color:white;" data-target="#modalFinalizada">Eliminar competencia</a>
<br><br><br>
<ul class="d-flex align-items-end flex-column fixed-bottom" style="color: white;">
  <li id="registrar-carrera" class="p-2">
    <a type="button" class="btn btn-danger" data-toggle="modal" data-target="#modalFin">Finalizar competencia</a>
    <a type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalCarrera">Nueva carrera</a>
  </li>
</ul>
<div class="modal fade" id="modalCarrera" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Crear carrera</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label for="inputAddress">Nombre de la carrera</label>
        <input type="text" class="form-control" id="" placeholder="Ej. Carrera 1">
        <div class="form-group mt-2">
          <label for="inputCity">Tipo de Carrera</label>
          <select class="form-control">
              <option>Sin Asignar</option>
              <option>Montaña</option>
              <option>Velocidad</option>
              <option>Terraceria</option>
          </select>
        </div>
        <label class="mt-2" for="inputAddress">Descripción de la carrera</label>
        <textarea type="text" rows="3" class="form-control" id="" placeholder="Ej. 10km"> </textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-sm">Guardar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalFin" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Finalizar competencia</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>El estátus cambiará a finalizado y ya no se podrán modificar los datos. Esta acción no se puede deshacer.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target=".bd-example-modal-sm">Finalizar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalFinalizada" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Eliminar competencia</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Se perderán todos los datos relacionados con la competencia, incluyendo reportes. Esta acción no se puede deshacer.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target=".bd-example-modal-sm">Eliminar</button>
      </div>
    </div>
  </div>
</div>

<script>
  var elInput = document.querySelector('#input');
  var elInput3 = document.querySelector('#input3');
if (elInput3) {
  var w = parseInt(window.getComputedStyle(elInput3, null).getPropertyValue('width'));

  // LA ETIQUETA 
  var etq = document.querySelector('.etiqueta');
  if (etq) {
    // el valor de la etiqueta
    etq.innerHTML = elInput3.value;

    // calcula la posición inicial de la etiqueta
    var pxls = w / 50;

    etq.style.left = ((elInput3.value * pxls) - 15) + 'px';

    elInput3.addEventListener('input', function() {
      // cambia el valor de la etiqueta
      etq.innerHTML = elInput3.value;
      // cambia la posición de la etiqueta 
      etq.style.left = ((elInput3.value * pxls) - 15) + 'px';

    }, false);
  }
}
</script>
